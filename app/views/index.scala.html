@()

@main("Lovecraftletter") {
  <script src="assets/javascripts/initGame.js" type="text/javascript"></script>
  <h1>Wilkommen bei Lovecraftletter!</h1>
  <div>
    <h2>Spielen</h2>
    <div class="mb-3">
      <a class="button" onclick="setPlayerAmount(3)">3 Spieler</a>
      <a class="button" onclick="setPlayerAmount(4)">4 Spieler</a>
      <a class="button" onclick="setPlayerAmount(5)">5 Spieler</a>
      <a class="button" onclick="setPlayerAmount(6)">6 Spieler</a>
      <input type="hidden" name="playerAmount" id="playerAmount" value="3">
    </div>
    <div class="form-floating mb-3 w-25" id="player1 input">
      <input type="text" class="form-control bg-primary text-secondary" name="player1-Name" id="player1-Name" placeholder="dumm" value="Player 1" autofocus>
      <label for="floatingInput bg-primary text-secondary">Dein Name</label>
    </div>
    @for(player <- Vector(2,3,4,5,6)) {
      <div class="form-floating mb-3 w-25" id="player@player input">
        <input type="text" class="form-control bg-primary text-secondary" name="player@player-Name" id="player@player-Name" placeholder="dumm" value="Player @player">
        <label for="floatingInput bg-primary text-secondary">Name Spieler @player</label>
      </div>
    }
    <input id="submit-start-game-btn" class="button" value="Spiel Starten">
  </div>
  <div>
    <h2>Regeln</h2>
    <h3>Spielablauf</h3>
    <p>Der Spieler, der am Zug ist, zieht zunächst die oberste Karte des Nachziehstapels. Da er zuvor bereits 1 Karte auf der Hand hatte, besitzt er nun 2 Handkarten. Er wählt 1 dieser 2 Handkarten und spielt sie offen vor sich aus. Die andere Karte behält er weiterhin verdeckt auf der Hand. Hat die ausgespielte Karte eine Funktion, muss der Spieler sie jetzt ausführen, auch wenn es zu seinem Nachteil ist. Abschließend legt er sie offen auf seinen persönlichen Ablagestapel, den er vor sich bildet. Damit ist sein Zug beendet, und der Spieler links von ihm ist am Zug.</p>
    <h3>Karten ablegen</h3>
    <p>Die Spieler müssen aufgrund verschiedener Kartenfunktionen oftmals Karten ablegen. Dies bedeutet immer, dass der Spieler diese Karten offen auf seinen Ablagestapel legt, die Funktion dieser Karte aber nicht ausführt.</p>
    <h3>Wahnsinn und Wahnsinnskontrolle</h3>
    <p>Liegt eine Wahnsinnskarte offen auf dem Ablagestapel eines Spielers, unabhängig davon, wie sie dort gelandet ist, ist dieser Spieler in Kontakt mit verbotenem Wissen gekommen und wird sofort für den Rest der Runde wahnsinnig. Hat der Spieler die Karte gespielt, führt er erst noch deren normale Funktion aus! Spielt ein wahnsinniger Spieler in einem folgenden Spielzug eine Wahnsinnskarte nutzt er die Wahnsinnsfunktion der Karte. Ein wahnsinniger Spieler riskiert aber, jederzeit mental zusammenzubrechen. Zu Beginn jedes seiner folgenden Spielzüge, bevor er die neue Handkarte zieht, muss er die Wahnsinnskontrolle durchführen. Dazu deckt er so viele Karten eine nach der anderen vom Nachziehstapel auf, wie er bereits an Wahnsinnskarten auf seinem Ablagestapel liegen hat. Dies passiert automatisch. Deckt er dabei eine Wahnsinnskarte auf, scheidet er sofort aus. Der Spieler legt die aufgedeckten Karten anschließend offen auf seinen Ablagestapel, ohne deren Funktionen auszuführen.</p>
  </div>
  <script src="assets/javascripts/csrfToken.js" type="text/javascript"></script>
  <script src="assets/javascripts/initGame.js" type="text/javascript"></script>
}
